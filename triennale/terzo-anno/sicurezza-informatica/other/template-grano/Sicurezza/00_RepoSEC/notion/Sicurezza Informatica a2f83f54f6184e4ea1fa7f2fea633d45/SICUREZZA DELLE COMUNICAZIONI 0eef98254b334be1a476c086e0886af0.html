<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>SICUREZZA DELLE COMUNICAZIONI</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	padding-inline-start: 0;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.page-description {
    margin-bottom: 2em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-uiBlue { background-color: rgba(35, 131, 226, .07); }
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-transparentGray { background-color: rgba(227, 226, 224, 0); }
.select-value-color-translucentGray { background-color: rgba(255, 255, 255, 0.0375); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }
.select-value-color-pageGlass { background-color: undefined; }
.select-value-color-washGlass { background-color: undefined; }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="0eef9825-4b33-4be1-a476-c086e0886af0" class="page sans"><header><h1 class="page-title">SICUREZZA DELLE COMUNICAZIONI</h1><p class="page-description"></p></header><div class="page-body"><ul id="eb05b9f3-26b9-418d-bd56-c22cafe43988" class="toggle"><li><details open=""><summary>Teoria</summary><p id="51313a4d-f5b0-4df3-9c4e-530e232aa7ac" class=""><mark class="highlight-blue">Struttura internet</mark></p><p id="320e8b21-b913-44fb-aef3-6974cb66a05d" class="">Internet è una grande rete di reti, dove la componente elementare è la network IP o subnet. All’interno della network IP sono presenti una serie di calcolatori che fungono da nodi terminali della rete e prendono il nome di host. In questo contesto ogni host può essere identificato da un indirizzo globale (valido per tutta la rete e univoco) e locale (può non essere univoco ed è valido solamente all’interno di una certa sottoporzione della rete). In questo contesto si identificano due termini:</p><ul id="b58e3fb8-b36a-403e-a7f3-5383e0598231" class="bulleted-list"><li style="list-style-type:disc">Rete logica = la network IP a cui un host appartiene logicamente.</li></ul><ul id="366d910d-48f3-42f5-940e-79c3293c968e" class="bulleted-list"><li style="list-style-type:disc">Rete fisica = rete (LAN) a cui un host è effettivamente connesso.</li></ul><figure id="70d5cf32-2a63-4049-848d-37e8608553f0" class="image"><a href="SICUREZZA%20DELLE%20COMUNICAZIONI%200eef98254b334be1a476c086e0886af0/Untitled.png"><img style="width:357.7250061035156px" src="SICUREZZA%20DELLE%20COMUNICAZIONI%200eef98254b334be1a476c086e0886af0/Untitled.png"/></a></figure><p id="d8a9614f-0943-49a0-b85f-5775110da00e" class=""><mark class="highlight-teal">Subnet e comunicazione tra host</mark></p><p id="ebd7958f-c6af-4f5a-abdf-effa55150abf" class="">Ogni network IP può essere implementata secondo una tecnologia specifica, cablata o wireless. Per quanto riguarda una rete cablata, si ha l’interconnessione attraverso i cavi ethernet. In questo contesto si può avere un ponte tra due LAN connesse fisicamente tramite ethernet e può essere:</p><ul id="8581e488-bfc8-45f4-afc5-316a581c73d5" class="bulleted-list"><li style="list-style-type:disc">Bridge = se appartenenti alla stessa tecnologia prende il nome di HUB. Il bridge permette la trasmissione contemporanea di un solo pacchetto a tutti i dispositivi collegati.</li></ul><ul id="97f9543f-183f-4741-9944-1fc6b41e28ce" class="bulleted-list"><li style="list-style-type:disc">Switch = apparato di livello 2 che può aggirare sullo strato fisico e quello di data link, vedendo gli indirizzi MAC e sapendo dove devono andare i pacchetti. Gli switch possono apprendere la topologia della rete grazie ad una tabella di memoria che prende il nome di learning bridge. All’interno di questa tabella viene associato ad ogni porta dello switch a cui è collegata un interfaccia di rete, l’indirizzo MAC dell’interfaccia stessa. Lo switch rappresenta un evoluzione rispetto al bridge in quanto, dopo aver salvato un’associazione all’interno del learning bridge, il pacchetto non viene inviato a tutti i dispositivi come avveniva con il bridge, ma solamente alla specifica macchina (possono avvenire N connessioni punto a punto).</li></ul><p id="947ecd8b-576e-4124-9ccf-6c11155d8577" class="">All’interno di ogni subnet si ha un doppio instradamento. Ogni dispositivo della LAN ha un proprio MAC address e l’inoltro fisico avviene attraverso le schede di rete, ma ogni dispositivo della rete IP presenta un proprio indirizzo IP e le applicazioni riconosco gli endpoint IP. Di conseguenza, per conoscere l’indirizzo MAC di un dispositivo di cui si conosce l’indirizzo IP, per consentire la reale comunicazione è necessario il protocollo ARP (Address Resolution Protocol). In questo protocollo, la macchina che vuole conoscere l’indirizzo MAC di un determinato IP, manda un messaggio in broadcast a tutte le macchine appartenenti alla subnet e solamente quello con l’indirizzo IP specificato risponderà (solitamente con un messaggio unicast, efficace per non intasare la connessione), riportando il proprio indirizzo MAC. Questo processo viene sfruttato anche dalle altre macchine della subnet che eseguono cache opportunistico, salvandosi l’associazione indirizzo MAC-indirizzo IP della macchina che ha inviato i broadcast (non quello della risposta in quanto viene inviata in unicast solamente alla macchina richiedente l’informazione).</p><figure id="326f0e5f-df4e-4028-802e-6d20f6d29b07" class="image"><a href="SICUREZZA%20DELLE%20COMUNICAZIONI%200eef98254b334be1a476c086e0886af0/Untitled%201.png"><img style="width:357.7250061035156px" src="SICUREZZA%20DELLE%20COMUNICAZIONI%200eef98254b334be1a476c086e0886af0/Untitled%201.png"/></a></figure><p id="31e3feff-fcfb-4171-a903-3bdedcb89e22" class=""><mark class="highlight-teal">Comunicazione tra host appartenenti a subnet differenti</mark></p><p id="cf0e4f85-6c0f-42c9-9dd5-0fc01a59059c" class="">Per consentire la comunicazione tra più subnet è necessario la presenza di un intermediario ovvero il router. Una domanda cruciale è, quando ho un pacchetto deve andare sulla mia network oppure devo usare un router? Ogni router presenta una tabella di routing (stabilita staticamente o dinamicamente) il quale, sulla base dell’indirizzo di destinazione del pacchetto, decide il prossimo router a cui recapitare il pacchetto. Di conseguenza si possono avere due tipologie di trasmissione dei pacchetti:</p><ul id="1cba1bdc-3022-4351-b670-da4977b6e3f7" class="bulleted-list"><li style="list-style-type:disc">Direct delivery = IP sorgente e IP destinazione appartengono alla stessa subnet. In questo caso quindi, se non si conoscono direttamente gli indirizzi MAC, si sfrutta il protocollo ARP per venire a conoscenza e il pacchetto viene direttamente inviato.</li></ul><ul id="8af372fe-78dc-402d-abaf-d52b4dbbd2f9" class="bulleted-list"><li style="list-style-type:disc">Indirect delivery = IP sorgente e IP destinazione NON appartengono alla stessa subnet. In questo caso quindi, il pacchetto viene inviato all’indirizzo del router il quale, consultando la sua tabella di routing, recapita il pacchetto al router successivo.</li></ul><figure id="73554c5d-2048-4ad9-ba28-e265cca47956" class="image"><a href="SICUREZZA%20DELLE%20COMUNICAZIONI%200eef98254b334be1a476c086e0886af0/Untitled%202.png"><img style="width:357.7250061035156px" src="SICUREZZA%20DELLE%20COMUNICAZIONI%200eef98254b334be1a476c086e0886af0/Untitled%202.png"/></a></figure><p id="aa5c682e-f08e-443c-a192-c3fe9170d9bd" class=""><mark class="highlight-blue">Problemi di sicurezza</mark></p><p id="4c8da249-3077-41ed-b120-b7c9539fdd96" class="">Ognuno dei livelli del modello ISO-OSI presenta dei problemi di sicurezza. Per esempio, per quanto riguarda la comunicazione da nodo a nodo dei problemi sono l’autenticazione (un protocollo per negoziare l’autentificazione è 802.1X) e problemi di riservatezza (se si fa parte della LAN si possono vedere pacchetti che passano. Per questo aiutano strumenti come WPA2 e VPNs). A livello IP e livello di trasporto i problemi sono l’integrità, l’autenticità e la riservatezza del traffico (nel caso di IP come facciamo ad essere sicuri che il pacchetto arrivi a destinazione? mentre nel caso di TCP/UDP come si fa ad essere sicuri che nessun endpoint intermedio guardi il mio pacchetto?).</p><p id="6f459fa0-5912-4a8d-8247-3e737daf020d" class="">Alcuni fonti di sicurezza possono essere ripetute nei vari livelli, ma se vengono poste ai livelli più bassi (come IP), non proteggono la sicurezza a livello applicativo, ma la connessione tra le due reti sarà sempre sicura in quanto passerà sempre da IP.</p><p id="b42f5a7f-8814-4054-a144-0df999562762" class=""><mark class="highlight-teal">Attacchi passivi</mark></p><p id="d627e60d-b480-404c-b44a-4277764093d1" class="">Gli attacchi passivi non modificano i dati in transito, ma possono compromettere i dati scambiati. Gli attacchi passivi possono essere di diverse tipologie:</p><ul id="6f1abf01-3481-4df3-bbf6-7b9f8c77bd78" class="bulleted-list"><li style="list-style-type:disc">Scansione = per vedere gli indirizzi che si possono raggiungere, le porte aperte e i servizi attivi su tali porte.</li></ul><ul id="5cc9f488-4fca-4f1b-a18a-5cc81f3e0f8d" class="bulleted-list"><li style="list-style-type:disc">Sniffing = lo sniffing richiede l&#x27;accesso fisico ai dati in transito che si può verificare essendo già sulla rete locale, o a seguito di un attacco di dirottamento (attacco attivo che va ad alternare tabella di routing o altri elementi dello stack). Lo strumento utilizzato per effettuare lo sniffing è wireshark che intercetta un pacchetto traducendo le informazioni di tutti i livelli. Gli switch presentano una moderata protezione contro lo sniffing in quanto, attraverso learning bridge, impara dove mandare i pacchetti. Il learning bridge però non presenta dimensione infinita. Un attaccante può avere una scheda di rete che permette di generare un flooding di pacchetti ad arte con migliaia di MAC address tutti ad una stessa porta. Se ne vengono inviati abbastanza, la tabella è satura e lo switch deve adottare una politica di rimpiazzo ovvero RU (viene sostituita la riga più vecchia). Di conseguenza quando due dispositivi di una subnet si vogliono parlare, i MAC address non sono presenti nella tabella e lo switch lo manda a tutte le porte (il suo obbiettivo è far recapitare il messaggio), mandandolo anche all’attaccante.</li></ul><ul id="52f69f58-5a24-44db-bb2f-c80440c75e8c" class="bulleted-list"><li style="list-style-type:disc">Il recupero di una chiave che consente di impersonare una vittima. Nelle reti si possono generare delle chiavi di protezione dove i messaggi sono intercettabili, ma senza chiave non si possono decodificare. Alcuni sistemi di generazione delle chiavi sono:<ul id="91d54e82-68b2-49ae-ab3b-267478e18e73" class="bulleted-list"><li style="list-style-type:circle">WEP = prometteva di introdurre una privacy come una rete cablata. È un sistema basato su una chiave simmetrica pre-condivisa che ha fallito in seguito ad un errore di progettazione. Quando due dispositivi negoziano una connessione si scambiano un initialization vector, che aggiunto al messaggio cifrato, consente la decrittazione. Un attaccante poteva infiltrarsi rifacendo eseguire la connessione con il nuovo invio di un initialization vector che, dopo un po’, si ripeteva e consentiva la decrittazione della chiave.</li></ul><ul id="7d15b77d-0301-4355-8e72-8eac49473ff6" class="bulleted-list"><li style="list-style-type:circle">WPA</li></ul><ul id="b7b1b4ba-392e-4156-a50c-340d2516e033" class="bulleted-list"><li style="list-style-type:circle">WPA2</li></ul><ul id="1c893eb4-f620-4fcb-8176-2b89386084e3" class="bulleted-list"><li style="list-style-type:circle">WPA3 = gli attacchi per superare questo sistema sono attacchi molto complessi e per nulla probabili. Il problema è quello della retro-compatibilità, dove si ingannano i dispositivi ad essere vecchi e utilizzare WPA2, con molte più probabilità note.</li></ul></li></ul><p id="c5d3d805-2a3a-409d-a0ce-7d248d98a670" class=""><mark class="highlight-teal">Attacchi attivi</mark></p><p id="587da0d7-c9d4-4edb-a3d9-2dca279d6b05" class="">Gli attacchi attivi minacciano l&#x27;integrità, l&#x27;autenticità o la disponibilità di reti e sistemi:</p><ul id="23c40b91-8324-433f-895b-23f5d1212ca3" class="bulleted-list"><li style="list-style-type:disc">Livello link=<ul id="d02dfb19-e659-4c61-8baf-4e4997a6159d" class="bulleted-list"><li style="list-style-type:circle">Spoofing MAC = assumere l’identità di un dispositivo a livello di indirizzo fisico, facile da mitigare con 802.1x. Questa tecnica è limitata al dominio di broadcast locale e viene eseguita principalmente per nascondere un computer su una rete o per fingere di impersonare un altro dispositivo di rete e ottenere quindi il traffico originariamente destinato altrove</li></ul><ul id="28a4be62-356c-4001-9fd7-dcde9801d534" class="bulleted-list"><li style="list-style-type:circle">ARP poisoning = che avviene semplicemente anticipando la risposta di una richiesta ARP in modo tale da corrompere le cache dei dispositivi e convincere l’host che aveva mandato la richiesta ARP che l’indirizzo MAC voluto è quello dell’attaccante.</li></ul></li></ul><ul id="44c42a50-c895-45d9-868f-6165013a1fa3" class="bulleted-list"><li style="list-style-type:disc">Livello network =<ul id="25ef97e1-cb47-41a4-a435-a20a092cdd6f" class="bulleted-list"><li style="list-style-type:circle">IP spoofing = consiste nell’assumere l’indirizzo IP di una vittima. Processo molto più difficile rispetto al MAC spoofing in quanto l’instradamento avviene solo su destinazione e il protocollo IP decide la strada solo sulla destinazione, se modifico IP sorgente la destinazione è la stessa, ma sarà difficile ottenere una risposta.</li></ul><ul id="69ebb32c-ffc7-4c13-af32-3eea0044aa2d" class="bulleted-list"><li style="list-style-type:circle">IP hijacking = modificando le tabelle di instradamento, in quanto il protocollo di comunicazione fra router BGP non è autenticato. Uno degli hijacking più utilizzati è quello del DNS il quale, non presentando nessuna autentificazione nativa (basato su UDP), basta essere più veloci della risposta del DNS e l’utente accetterà tale risposta, collegandosi ad un server piuttosto che un altro. Può succedere se siamo sulla stessa rete locale o pharming. L’utente visita una pagina (per mezzo di phishing), questa contiene uno script all’interno del quale, usando la password di default del router, riprogramma il DNS. In questo modo l’attaccante ha il pieno controllo dei siti che posso visitare, potendo l’utente su siti che voglio.</li></ul></li></ul><ul id="14231544-7712-4217-8eb8-745b76c00038" class="bulleted-list"><li style="list-style-type:disc">Livello di trasporto = Se il dirottamento IP viene utilizzato per impossessarsi di una connessione dopo un&#x27;autenticazione, devono essere coinvolti i livelli superiori ovvero UDP (molto facile) o TCP (che perderà la connessione se l’attaccante non utilizza i numeri di sequenza corretti per la finestra scorrevole).</li></ul><p id="f2766ba9-7dd2-42c2-9048-66df5c9a611b" class="">Dopo un attacco di dirottamente è possibile eseguire il DDos (Distributed Denial of Service) dove, sfruttando le botnet, insieme di computer zombie, si può inondare la vittima di richieste.</p></details></li></ul><ul id="9cf0c0ce-8e82-406d-832e-65606027cde8" class="toggle"><li><details open=""><summary>Laboratorio</summary><hr id="6d5f1e41-e4a5-4ccc-b837-01c75c449c5e"/><h3 id="1931841e-74f0-480e-b2e9-140989e84fad" class=""><mark class="highlight-teal">Introduzione docker</mark></h3><p id="0386a487-c27f-404b-9e91-f3f1a39329be" class="">Docker permette di impacchettare un’applicazione all’interno di un container, un’area isolata contenente il codice e le dipendenze dell’applicazione, all’interno della quale l’applicazione può essere eseguita facilmente senza influenzare il resto del sistema. Questo rappresenta un bel vantaggio rispetto alle macchine virtuali che contengono una copia completa del sistema operativo e dell’applicazione. Lo strumento Docker Compose permette di eseguire più container nello stesso momento e permettere loro, se e quando necessario, di interagire. Per utilizzare questo strumento è necessario un file di configurazione dal nome docker-compose.yml dove viene definito tutto il setup dell’applicazione come i container, la rete ecc.</p><hr id="693e8158-34e7-48cc-9b54-f4c80f478ed1"/><p id="5c408fbd-9e08-4d88-b55d-d2dc813611a8" class="">Dopo l’avvio del docker, digitando il comando <code>ip addr</code> si aggiunge una entry con MAC address del tipo brNUMERO_ESADECIMALE. Durante il corso dell’esercitazione, per guardare il traffico di rete fra le macchine host si può utilizzare wireshark (si potrebbe utilizzare anche tcpdump con il comando <code>tcpdump -i &#x27;eth0&#x27; -vnl</code>) attraverso il comando <code>sudo wireshark</code> e si seleziona l’interfaccia di rete desiderata, nel nostro caso quella aggiunta dal docker. Tale tool permette di controllare strato per strato tutti i pacchetti che vengono spediti sulla rete. </p><h3 id="b621226b-badc-4f16-9897-41501414622f" class=""><mark class="highlight-teal">ARP spoofing</mark></h3><p id="69ba334d-f752-4420-9b88-0894b07d985b" class="">Negli host possiamo vedere le tabelle ARP di risoluzione degli indirizzi IP con i corrispondenti indirizzi MAC attraverso il comando:</p><p id="78512b8f-e83d-4601-89bb-414318bf4b49" class=""><code>arp -n</code> </p><p id="9406ef23-bd67-4a47-a940-f125aca15377" class="">Dalla tabella ARP si possono rimuovere le entry a mano con il comando:</p><p id="0276be11-687d-4ef6-988d-c303b24ff458" class=""><code>arp -d indirizzo_ip</code></p><p id="820faf2c-99c1-4200-bba8-876800a84371" class="">All&#x27;interno della macchina M, che può svolgere il forwarding dei pacchetti, con il comando ettercap si può eseguire offensive security. Infatti attraverso il comando:</p><p id="f927f3cd-3132-4b68-ae57-16f99b875e63" class=""><code>ettercap -T -M arp /// ///</code> </p><p id="c06f5030-6059-4db5-bf33-307a9be3ce6b" class="">Possiamo svolgere un attacco di Man in the Middle, per svolgere un attacco man in the middle, andando a ridirigere tutto il traffico della rete sulla macchina dell’attaccante (le barrette /// servono per dire di attaccare tutto quello che trova). Se infatti uno dei due host vuole comunicare con l’altro e all’interno della tabella ARP non è presente l’associazione richiesta, tramite questo attacco l’attaccante si finge il destinatario, comunicando il proprio MAC address. In questo caso l’attaccante si limita solamente a ricevere i pacchetti senza rispondere, ma si potrebbe istruire alla risposta e di conseguenza l’attaccante può far credere ad altri di essere un’altra macchina. Tramite il comando:</p><p id="6c3dd7b3-07f2-436d-9c9b-08c47fccd1b6" class=""><code>ettercap -T -M arp /ip// /ip//</code></p><p id="87565270-9026-43a0-9a29-50223d4364e3" class="">Per svolgere un attacco mirato agli indirizzi IP specificati. </p><h3 id="7db5ddd7-6ad5-4382-886b-6243f7dbd816" class=""><mark class="highlight-teal">DHCP spoofing</mark></h3><p id="f37ad61f-5d81-45eb-b144-ee110ae4edc2" class="">DHCP è un protocollo per configurare le interfacce internet assegnando ad una macchina il suo indirizzo IP. Si può eseguire un attacco di DHCP spoofing andando ad agire sulla velocità di risposta del protocollo si può assegnare alla vittima un IP con il gateway specificato, in modo tale da diventare il gateway della vittima.  </p><p id="27224b1e-4067-4821-a67e-0db7eeaebc3a" class="">Lanciamo una serie di comandi:</p><p id="8bc57b06-1246-4af2-a511-552cab0424ce" class=""><code>ip addr del INDIRIZZO_IP dev INTERFACCIA</code> —&gt; per rimuovere indirizzo IP sulla macchina vittima</p><p id="0d72eea5-9332-4375-858e-db5de54c6c45" class=""><code>ettercap -T -M dhcp:10.9.0.20-60/255.255.255.0/8.8.8.8</code> —&gt;comando che specifica alcune opzioni del finto server DHCP come range di indirizzi erogati, netmask, dns da erogare. Se il cliente manda direttamente una DHCP request (suggerendo un indirizzo IP), ettercap risponderà subito l’ACK modificando solamente il gateway. Se il cliente manda invece una DHCP discovery, ettercap userà il primo indirizzo IP libero specificato dalla lista.</p><p id="024e4284-910d-4a1e-8945-3ed1eac02ae0" class="">Successivamente sulla macchina host si digita il comando: </p><p id="cc181e4b-2afe-47b9-a50a-27fb3e378a1d" class=""><code>dhclient eth0</code> —&gt; serve per lanciare il server DHCP per configurare l’interfaccia eth0</p><p id="24defef7-9efd-403d-b9ee-8cf2c712af1b" class="">Guardando su wireshark saranno presenti i 4 messaggi tipici di DHCP.</p><figure id="433b9de9-2105-419a-a6c7-e28bc3f782d6" class="image"><a href="SICUREZZA%20DELLE%20COMUNICAZIONI%200eef98254b334be1a476c086e0886af0/Untitled%203.png"><img style="width:480px" src="SICUREZZA%20DELLE%20COMUNICAZIONI%200eef98254b334be1a476c086e0886af0/Untitled%203.png"/></a></figure><h3 id="8f93ceed-7842-44a7-8a74-dcee58fb733e" class=""><mark class="highlight-teal">DoS</mark></h3><p id="8c78cf93-3fb5-4317-a46b-fa99fa644f4e" class="">Il DoS si basa sull’apertura sulla macchina host di numerosi connessioni. Il sistema operativo ha delle tabelle di dimensione limitata e di conseguenza aprendo molte connessioni, quindi molte socket, questa tabella si esaurisce causando denial of service. Sorge spontaneo chiedersi: ma non si esauriscono anche le risorse dell’attaccante? No, non si esauriscono in quanto l’attaccante non instaura veramente la connessione. Esso, infatti, durante la negoziazione della connessione, sfrutta il timeout del protocollo TCP, mandando solamente dei pacchetti con il flag SYN settato che scadranno dopo il tempo di timeout. In questo lasso di tempo, però, inodando di richieste l’host si può causare DoS.</p><p id="1eed1860-8aae-4a64-a6f5-da4844b4f760" class="">In questo caso si utilizzano due tool:</p><ul id="fe8521b1-00f7-4083-b5d5-30af35d1ee1a" class="bulleted-list"><li style="list-style-type:disc">iperf = per vedere le prestazioni tra due macchine in un determinato tempo. Questa simulazione si esegue attraverso i comandi:<p id="7f814240-e201-4bf1-a8dd-a3232e4e42c0" class=""><code>iperf -s</code> —&gt; server in ascolto sulla porta 5001</p><p id="0b18c901-3df1-43a8-ac10-0db146cce6e0" class=""><code>iperf -c indirizzo IP</code> --&gt; cliente</p></li></ul><ul id="7349ac10-8e23-4f98-899d-8a100a9cb28a" class="bulleted-list"><li style="list-style-type:disc">hping3 = per eseguire il vero e proprio attacco. <p id="be4c428e-4992-4152-87ff-d40a2960cba0" class=""><code>hping3 -c 10000 -d 120 -S -w 64 -p 21 --flood --rand-source INDIRIZZO_IP</code></p><ul id="88caa858-f316-4ece-821c-9dcff5963321" class="bulleted-list"><li style="list-style-type:circle">-c 100000 = Number of packets to send.</li></ul><ul id="4a0fa56f-b324-40e9-b410-cca82e981c54" class="bulleted-list"><li style="list-style-type:circle">-d 120 = Size of each packet that was sent to target machine.</li></ul><ul id="24cb5e75-cc14-4b79-9579-db08e1e007bb" class="bulleted-list"><li style="list-style-type:circle">-S = I am sending SYN packets only.</li></ul><ul id="e92e5d4b-3e53-40fe-b6d3-a9e3d2bc1c76" class="bulleted-list"><li style="list-style-type:circle">-w 64 = TCP window size.</li></ul><ul id="903c11a1-0bfc-4790-aaa3-7a29aeaa5d0e" class="bulleted-list"><li style="list-style-type:circle">-p = Destination port</li></ul><ul id="6961fcb9-e38b-466d-8873-bf2aa67915f5" class="bulleted-list"><li style="list-style-type:circle">--flood = Sending packets as fast as possible, without taking<br/>care to show incoming replies. Flood mode.<br/></li></ul><ul id="71c4b6a3-eb0b-443e-ad48-c81513412bb4" class="bulleted-list"><li style="list-style-type:circle">--rand-source = Using Random Source IP Addresses. You can<br/>also use -a or –spoof to hide hostnames. <br/></li></ul></li></ul><p id="0b8b50b4-b5e8-49f0-9350-e00f7d97f7d5" class="">Alternative ad un attacco DoS di questa tipologia sono sfruttare i protocolli UDP, ICMP e la frammentazione dei pacchetti. Alcune opzioni importanti del comando sono:</p><ul id="05b0e8bc-69ce-4b1f-a7ed-89a8bbcc447b" class="bulleted-list"><li style="list-style-type:disc">- - icmp o -1 = per mandare dei pacchetti ICMP echo/request (ovvero dei ping)</li></ul><ul id="00380811-221c-4183-b020-818f380daa7d" class="bulleted-list"><li style="list-style-type:disc">- - udp o -2 = per mandare dei pacchetti UDP alla porta 0 del destinatario. </li></ul><ul id="8fbbb409-384d-4c88-a770-6190a1b06af5" class="bulleted-list"><li style="list-style-type:disc">- - frag = per attivare la frammentazione dei pacchetti</li></ul><p id="d0bc5886-771c-462e-a880-f40f185e18a0" class="">
</p></details></li></ul></div></article><span class="sans" style="font-size:14px;padding-top:2em"></span></body></html>