<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>ATTACCHI AL PROCESSO DI AUTENTICAZIONE</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	padding-inline-start: 0;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.page-description {
    margin-bottom: 2em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-uiBlue { background-color: rgba(35, 131, 226, .07); }
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-transparentGray { background-color: rgba(227, 226, 224, 0); }
.select-value-color-translucentGray { background-color: rgba(255, 255, 255, 0.0375); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }
.select-value-color-pageGlass { background-color: undefined; }
.select-value-color-washGlass { background-color: undefined; }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="bf6d94bf-97d7-4c4d-84dc-21a1bcd7e7e6" class="page sans"><header><h1 class="page-title">ATTACCHI AL PROCESSO DI AUTENTICAZIONE</h1><p class="page-description"></p></header><div class="page-body"><ul id="6802706b-4893-41f1-8ff6-f35c53751192" class="toggle"><li><details open=""><summary>Teoria</summary><p id="323b672a-e592-44f3-98f1-9c7d152a41ea" class="">Per quanto riguarda il controllo dell’accesso su Linux è gestito tramite la regola delle 3 A:</p><ul id="7db10213-f333-4883-903f-e0e115beb464" class="bulleted-list"><li style="list-style-type:disc">Autenticazione = attribuzione certa dell’identità di un individuo che utilizza le risorse. Quest’ultima può avvenire secondo diverse modalità: qualcosa che sai (password), qualcosa che hai (telefono, hard token) o qualcosa che sei (autentificazione biometrica che può essere statica, con caratteristiche inequivocabili tipo la struttura della retina o dinamica)</li></ul><ul id="9ae91ec9-e5f8-4aa7-a0d3-c4ac479b0445" class="bulleted-list"><li style="list-style-type:disc">Autorizzazione = quando si è certi di avere di fronte un determinato soggetto, si verifica se il soggetto può compiere una determinata azione.</li></ul><ul id="253517cb-712d-48be-9b82-bbf9d25451d2" class="bulleted-list"><li style="list-style-type:disc">Auditing = tracciamento delle decisioni di autentificazione e autorizzazione per vedere se i meccanismi e le politiche sono ben fatte. In fase di attacco possono diventare degli alleati.</li></ul><p id="8c5ddcfe-d4a5-462b-adc4-924ba0f0c0aa" class="">Gli attacchi possono avvenire violando i meccanismi di autentificazione (provando ad indovinare la password), quelli di autorizzazione (con autorizzazioni troppo large) ma devono tenere conto dei meccanismi di auditing che possono sia essere degli aiutanti per il reperimento dei dati, ma anche degli antagonisti (pulizia delle tracce persistenti).</p><p id="2fafc2da-d403-4720-a076-d698caec2169" class=""><mark class="highlight-blue">Autenticazione</mark></p><p id="db09afa7-684a-4b60-9a65-968051b678bb" class="">Nella tipologia di autenticazione passiva, sono presenti due diverse entità che condividono tra loro un segreto:</p><ul id="23014d5d-d6a7-4b92-884e-7b69c69e14bf" class="bulleted-list"><li style="list-style-type:disc">Provider = colui che deve dimostrare di essere a conoscenza del segreto.</li></ul><ul id="6921d5dc-16c6-4457-85f1-29fe4b92d3f9" class="bulleted-list"><li style="list-style-type:disc">Verifier = colui che è a conoscenza del segreto.</li></ul><p id="7e8459cf-c2bf-47a9-ac29-d721b9880c94" class="">P deve mandare a V il segreto per dimostrare di conoscerlo e V, verificando quello in suo possesso, autentifica P. In questo contesto possono presentarsi diversi problemi che possono essere sfruttati da un attaccante:</p><ul id="ecc1d59f-5877-4e58-85dc-2a0f1c71636b" class="bulleted-list"><li style="list-style-type:disc">Problemi di comunicazione = i dati possono essere inviati in chiaro ed intercettati da un attaccante passivo, oppure da un canale offuscato.</li></ul><ul id="f765d62c-baf8-4d78-8b90-76e639c9006b" class="bulleted-list"><li style="list-style-type:disc">Problemi di memorizzazione = il segreto può essere rubato da V.</li></ul><p id="5381f35c-4e44-45e8-a732-8b7a050966b7" class="">Per rendere inefficace il furto del segreto da V è necessario che esso non conosca la password, ma la sua impronta che viene calcolata con una funzione hash. Quest’ultima funzione è basata su primitive criptografiche con diverse proprietà come</p><ul id="11d5e950-7b80-43b7-a620-c940c67701ac" class="bulleted-list"><li style="list-style-type:disc">Unidirezionalità = a partire da un semplice checksum è possibile ricostruire il dato, mentre a partire da un hash non abbiamo modo per risalire al dato</li></ul><ul id="00636402-35ca-44da-ad05-1d8af58f9ddc" class="bulleted-list"><li style="list-style-type:disc">Il dominio della funzione hash è infinito</li></ul><ul id="f6344683-bcc3-4f4f-be21-d3a83b48f389" class="bulleted-list"><li style="list-style-type:disc">Il numero di hash possibili dipenda dal numero di bit che scegliamo</li></ul><ul id="6304fc13-d9d2-4a0b-b9a8-64495ebdc75b" class="bulleted-list"><li style="list-style-type:disc">Resistenza alle collisioni = difficile che due diversi input presentino lo stesso codice hash</li></ul><p id="ca329436-cd2a-4b1b-a736-8fee68871699" class="">Per questo modo il processo di autentificazione presenta una struttura del tipo:</p><figure id="f3edea83-b6c2-426d-8d84-ad74811e12a8" class="image"><a href="ATTACCHI%20AL%20PROCESSO%20DI%20AUTENTICAZIONE%20bf6d94bf97d74c4d84dc21a1bcd7e7e6/Untitled.png"><img style="width:499.3999938964844px" src="ATTACCHI%20AL%20PROCESSO%20DI%20AUTENTICAZIONE%20bf6d94bf97d74c4d84dc21a1bcd7e7e6/Untitled.png"/></a></figure><p id="840a8125-8312-420f-8b7a-87b126449098" class="">Il sistema operativo, attraverso un generatore di numeri casuali inizializzato con un seme (visto che l’elaboratore è una macchina deterministica la generazione di numeri è pseudocasuale in quanto, conosciuto il seme, si può ricostruire), genera un salt e lo memorizza in chiaro. Dopo che l’utente ha inserito la sua password, si ha la concatenazione fra il segreto appena inserito dall’utente e il salt con la generazione del codice hash. Se quest’ultimo corrisponde al codice hash memorizzato all’interno di V, l’utente è autentificato. Il salt deve essere memorizzato in chiaro per far si che, dopo aver inserito la corretta password, la concatenazione con il salt produca il codice hash memorizzato da V. Dopo ogni scelta o cambio password il salt cambia. In Unix sono presenti due file importanti:</p><ul id="141a433a-f409-4671-8c19-7d4743b74cb6" class="bulleted-list"><li style="list-style-type:disc">/etc/passwd = contenente le password pubbliche degli utenti registrati sulla macchina, editabile solamente da root. La struttura delle entry del file è del tipo:<figure id="a478a287-704a-4d7b-8e02-f4f46e33b68a" class="image"><a href="ATTACCHI%20AL%20PROCESSO%20DI%20AUTENTICAZIONE%20bf6d94bf97d74c4d84dc21a1bcd7e7e6/Untitled%201.png"><img style="width:471.3999938964844px" src="ATTACCHI%20AL%20PROCESSO%20DI%20AUTENTICAZIONE%20bf6d94bf97d74c4d84dc21a1bcd7e7e6/Untitled%201.png"/></a></figure><p id="9f6d18a9-912a-4a53-9162-cb62397dd4d6" class="">Le informazioni contenute in ogni entry sono:</p><ul id="7540a332-b81b-4cfd-b430-3fa45edfb5c9" class="bulleted-list"><li style="list-style-type:circle">Username</li></ul><ul id="0f061e5e-1a82-4322-b5eb-1facdb9b740b" class="bulleted-list"><li style="list-style-type:circle">Password = ogni campo presenta la lettera X in quanto la password è mantenuta, sotto forma di codice hash, all’interno del file /etc/shadow.</li></ul><ul id="d6aabe86-d0f2-4c10-b3bd-32c8fbca1fd8" class="bulleted-list"><li style="list-style-type:circle">UID (userId) = settato a 0 è root.</li></ul><ul id="7042383c-4b30-4573-9cb3-21c0fd700fa3" class="bulleted-list"><li style="list-style-type:circle">GUID (groupId)</li></ul><ul id="90512620-df3f-4921-91fb-5a1731d92a1b" class="bulleted-list"><li style="list-style-type:circle">GECOS (userId info) = parte di commento.</li></ul><ul id="aa1bf498-31c5-442f-af6a-dbc72cfc587a" class="bulleted-list"><li style="list-style-type:circle">Home directory</li></ul><ul id="c0294960-84af-427e-9d62-7c5d3c740707" class="bulleted-list"><li style="list-style-type:circle">Login shell = shell che viene avviata ogni volta che lo user accede al sistema.</li></ul></li></ul><ul id="850617d1-721d-4fac-b6cc-2c646a6e5d97" class="bulleted-list"><li style="list-style-type:disc">/etc/shadow = contenente i codici hash delle password che solo l’amministratore di sistema può visualizzare. Essi presentano una struttura del tipo:<figure id="4ed9f352-8535-4dca-adf9-03eff487088d" class="image"><a href="ATTACCHI%20AL%20PROCESSO%20DI%20AUTENTICAZIONE%20bf6d94bf97d74c4d84dc21a1bcd7e7e6/Untitled%202.png"><img style="width:471.3999938964844px" src="ATTACCHI%20AL%20PROCESSO%20DI%20AUTENTICAZIONE%20bf6d94bf97d74c4d84dc21a1bcd7e7e6/Untitled%202.png"/></a></figure></li></ul><p id="f97fd407-d45b-4631-9442-bb8377046851" class="">In questa fase gli attacchi si eseguono con dizionario, ovvero liste di password e rainbow tables con dati pre-computati che permettono di velocizzare la ricerca di hash. L’unica contromisura che si può applicare è rendere la password più complicata possibile. Le password che molti siti ci costringono ad inserire sono spesso molto controproducenti in quanto riducono l’entropia della password, ovvero il grado di dubbio introdotto che dipende dal numero di bit. Con un bit abbiamo un entropia pari al 50 percento o è 1 o 0. Solitamente la maggior parte delle password che vengono fatte inserire nei siti presentano un entropia di 28 bit e richiedono 3 giorni per riuscire ad indovinare la password. Invece, con 4 parole comuni in modo casuale, l’entropia diventa di 48 bit è la difficolta per indovinare la password aumenta esponenzialmente.</p><p id="af549077-fcb4-467a-840e-78ec0373a6a5" class=""><mark class="highlight-blue">Autorizzazione</mark></p><p id="ed0a7b55-5bc0-431f-ba1a-9243176785fc" class="">L’acceso come utente legittimo dà solitamente privilegi molto limitati, ma si possono sfruttare diversi meccanismi per elevare questi privilegi. Su un sistema Linux ogni utente deve appartenere almeno ad un gruppo (il sistema ne crea uno omonimo con solo l’utente dentro). Gli account utente sono locked ma consente ai processi di girare con tale identità con il minimo privilegio (Teoria del minimo privilegio à ogni soggetto può fare ciò di necessario per raggiungere i suoi obbiettivi).  Solo root può cambiare lo stato degli utenti e può cambiare la password a tutti gli utenti.</p><p id="d0abb527-385f-4567-8630-0b91e942a846" class=""><mark class="highlight-yellow">Protezione dei file e directory</mark></p><p id="5a82168a-1d0b-4f45-96cc-37b34a1441a4" class="">All’interno dell’i-node di un file sono contenute una serie di informazioni. Ogni file presenta 12 bit di protezione. Gli ultimi 9 sono:</p><ul id="79ee9f48-ba8a-4853-a861-29ac8b4fd050" class="bulleted-list"><li style="list-style-type:disc">U = utente proprietario per cui si possono specificare i tre diritti (r = lettura, w = scrittura, x = eseguibile)</li></ul><ul id="3c549525-3276-4ec6-bead-d88aac89acd7" class="bulleted-list"><li style="list-style-type:disc">G = gruppo proprietario</li></ul><ul id="780c6293-7825-4e9c-b6cf-6dc8fea5c677" class="bulleted-list"><li style="list-style-type:disc">O = altri utenti</li></ul><figure id="eb549e82-1a5b-4660-9ed4-d363f5024e8a" class="image"><a href="ATTACCHI%20AL%20PROCESSO%20DI%20AUTENTICAZIONE%20bf6d94bf97d74c4d84dc21a1bcd7e7e6/Untitled%203.png"><img style="width:432px" src="ATTACCHI%20AL%20PROCESSO%20DI%20AUTENTICAZIONE%20bf6d94bf97d74c4d84dc21a1bcd7e7e6/Untitled%203.png"/></a></figure><p id="a0367496-16cd-4633-b0f5-cf4a623d5f0e" class="">I primi tre bit riguardano i file eseguibili. Infatti, ogni volta che si esegue un programma, si ha la creazione di un processo a cui viene associato uno real user id, real group id, effective user id e effective group id (L’effective user/group serve per indicare l’identità del processo. Solitamente real user id = effective user id e stessa cosa per il gruppo). Questi bit sono:</p><ul id="d252daa6-33dc-463e-9dc4-b6936c0c29db" class="bulleted-list"><li style="list-style-type:disc">Set user id (SUID) = se questo bit è settato (far diventare 1, solitamente è 0), il programma viene eseguito da un processo che ha l’identità dell’utente proprietario del file, anziché quello dell’utente che lo lancia. Nel caso delle directory questo non viene settato. —&gt;  <span style="border-bottom:0.05em solid">il bit settato viene caratterizzato da una </span><strong><span style="border-bottom:0.05em solid">s </span></strong><span style="border-bottom:0.05em solid">(quando sono presenti i diritti di esecuzione)</span><strong><span style="border-bottom:0.05em solid"> </span></strong><span style="border-bottom:0.05em solid">o</span><strong><span style="border-bottom:0.05em solid"> S </span></strong><span style="border-bottom:0.05em solid">(quando NON sono presenti i diritti di esecuzione)</span><strong><span style="border-bottom:0.05em solid"> </span></strong><span style="border-bottom:0.05em solid">nei permessi del file dell’U.</span></li></ul><ul id="dc152988-0ae3-4eeb-b30e-30a8dca2da71" class="bulleted-list"><li style="list-style-type:disc">Set group id (SGID) = se questo bit è settato, il programma viene eseguito da un processo che ha l’identità del gruppo proprietario del file, anziché quello dell’utente che lo lancia.  Per le directory serve per creare aree di collaborazione mantenendo umask 0006, rendendo visibili e leggibili i file da tutti i membri del gruppo. —&gt; <span style="border-bottom:0.05em solid">il bit settato viene caratterizzato da una </span><strong><span style="border-bottom:0.05em solid">s </span></strong><span style="border-bottom:0.05em solid">(quando sono presenti i diritti di esecuzione)</span><strong><span style="border-bottom:0.05em solid"> </span></strong><span style="border-bottom:0.05em solid">o</span><strong><span style="border-bottom:0.05em solid"> S </span></strong><span style="border-bottom:0.05em solid">(quando NON sono presenti i diritti di esecuzione)</span><strong><span style="border-bottom:0.05em solid"> </span></strong><span style="border-bottom:0.05em solid">nei permessi del file del G.</span></li></ul><ul id="cdb1fe68-4d70-4036-a4ff-3ad4a6d02878" class="bulleted-list"><li style="list-style-type:disc">Save text image (sticky) = OBSOLETO se questo bit viene settato, l’immagine del processo viene mantenuta in memoria anche quando il processo è terminato. Così facendo se un comando viene rieseguito, il suo costo di ri-esecuzione è molto minore. Nelle directory questo bit prende il nome di temp. Se impostato a 0 sono directory predisposte affinchè le applicazioni abbiano dei luoghi dove scrivere e tutti possono cancellare ogni file. Se impostato a 1 i file sono cancellabili solamente da i proprietari dei file. —&gt; <span style="border-bottom:0.05em solid">il bit settato viene caratterizzato da una </span><strong><span style="border-bottom:0.05em solid">t </span></strong><span style="border-bottom:0.05em solid">(quando sono presenti i diritti di esecuzione)</span><strong><span style="border-bottom:0.05em solid"> </span></strong><span style="border-bottom:0.05em solid">o</span><strong><span style="border-bottom:0.05em solid"> T </span></strong><span style="border-bottom:0.05em solid">(quando NON sono presenti i diritti di esecuzione)</span><strong><span style="border-bottom:0.05em solid"> </span></strong><span style="border-bottom:0.05em solid">nei permessi del file degli O.</span></li></ul><hr id="895cb5be-1679-44d6-961d-6986aab9bf33"/><p id="82ea484b-e77b-4386-a049-bfb6008dda06" class="">I permessi di default alla creazione di un file vengono stabiliti dall’utente attraverso l’umask. </p><p id="7414bb36-e82c-4f5e-a846-ed2f3a9d9fb6" class="">Le ACL di Linux presentano solamente tre soggetti per ogni risorsa e quando un determinato utente A vuole eseguire un operazione su un file, i permessi vengono controllati attraverso questo sistema:<div class="indented"><figure id="c7fd00d6-e9a0-42b6-8103-88cc5a8bc503" class="image"><a href="ATTACCHI%20AL%20PROCESSO%20DI%20AUTENTICAZIONE%20bf6d94bf97d74c4d84dc21a1bcd7e7e6/Untitled%204.png"><img style="width:384px" src="ATTACCHI%20AL%20PROCESSO%20DI%20AUTENTICAZIONE%20bf6d94bf97d74c4d84dc21a1bcd7e7e6/Untitled%204.png"/></a><figcaption>Il gruppo other è un gruppo implicito, che non esiste relamente nel sistema, costituito da tutti i soggetti del sistema tranne l’utente proprietario. </figcaption></figure></div></p><p id="418f6b09-c378-4a2f-8a6f-7537e13a7e6e" class="">Questo modello di ACL è stato superato grazie all’utilizzo di vere e proprie ACL che si possono utilizzare per utenti specifici. La presenza di una ACL legata ad un determinato direttorio o file si può vedere dalla presenza di un + dopo avere effettuato ls. <div class="indented"><figure id="3e76a6ef-d157-45e6-862c-96c457969d60" class="image"><a href="ATTACCHI%20AL%20PROCESSO%20DI%20AUTENTICAZIONE%20bf6d94bf97d74c4d84dc21a1bcd7e7e6/Untitled%205.png"><img style="width:384px" src="ATTACCHI%20AL%20PROCESSO%20DI%20AUTENTICAZIONE%20bf6d94bf97d74c4d84dc21a1bcd7e7e6/Untitled%205.png"/></a></figure></div></p><p id="115de462-d0c2-4258-a8fe-2dfaf6a16724" class=""><mark class="highlight-yellow">Root</mark></p><p id="9b0c1beb-c6a5-4ce2-b3aa-3af7163089b5" class="">Esiste tipicamente un utente con privilegi illimitati ovvero root che si può eseguire da riga di comando attraverso il comando sudo -i. All’interno del file /etc/sudoers sono contenuti i permessi degli utenti e può essere modificato attraverso il comando visudo, comando tramite il quale il file sopra indicato viene aperto con l’editor vi (si può utilizzare anche nano).</p><p id="6259acb2-ead9-4118-b765-4aa64c17a008" class="">Solitamente gli utenti non root (che presentano uno user id diverso da 0) presentano permessi ristretti. I poteri di root non sono monolitici ma presenta ben 41 diverse capability, ovvero autorizzazioni normalmente negate agli utenti standard che codificano gli aspetti di amministrazione del sistema. Per una maggiore espressività dei permessi, è possibile assegnare delle capability a processi lanciati da utenti standard. </p><p id="a2a63f12-13e5-455f-85ab-536901e5a2d9" class=""><mark class="highlight-yellow">Bombe logiche</mark></p><p id="684d0b50-6893-421e-af18-280c29ffc433" class="">Alcuni processi vengono eseguiti con privilegi di amministrazione e se i file da essi eseguiti presentano dei permessi sbagliati, un attaccante può iniettare il codice che verrà eseguito dal sistema.</p><p id="41ebd9f1-49c6-490a-a158-43c7c27f1f20" class="">-cr<span style="border-bottom:0.05em solid">ond</span></p><p id="7755a54d-0734-4596-b562-9dbaa568f382" class="">Nei sistemi Linux è presente un demone crond, uno per ogni utente, che esegue ogni minuto una serie di file di configurazione chiamati crontab. Essi sono divisi in due insiemi:</p><ul id="a02bbd0d-a82f-4e95-9629-3f53a484c495" class="bulleted-list"><li style="list-style-type:disc">/var/spool/cron/crontabs/&lt;utente&gt; sul quale attraverso il comando crontab si può visualizzare (-l), editare (-e) e sostituire.</li></ul><ul id="226a0dc4-c78c-4d47-82e1-86a802139d7a" class="bulleted-list"><li style="list-style-type:disc">/etc/crontab = non fa altro che richiamare l’esecuzione di ciò che si trova in altre directory.</li></ul><p id="c4e506e0-bd07-45a3-9130-8c28aaa88e89" class=""><span style="border-bottom:0.05em solid">-atd</span></p><p id="99d4cd01-6d36-47fe-8013-882e318d4457" class="">atd è un demone che gestisce code di compiti da svolgere in momenti prefissati. I comandi principali sono:</p><figure id="38e233ef-ade8-467e-ab43-f3536514f575" class="image"><a href="ATTACCHI%20AL%20PROCESSO%20DI%20AUTENTICAZIONE%20bf6d94bf97d74c4d84dc21a1bcd7e7e6/Untitled%206.png"><img style="width:482px" src="ATTACCHI%20AL%20PROCESSO%20DI%20AUTENTICAZIONE%20bf6d94bf97d74c4d84dc21a1bcd7e7e6/Untitled%206.png"/></a></figure><p id="f39dab46-e72a-4e37-980d-469af76fff0a" class="">Se non viene specificato un file comandi viene preso lo standard input.</p><p id="f1397504-5b45-4275-8dc4-c307062605ac" class=""><mark class="highlight-blue">Processo di avvio</mark></p><p id="ef1c02d6-1caf-48a7-9290-2df28fbded28" class="">Il processo sysinit era il primo processo a essere avviato dal kernel e gestiva i runlevel, ovvero gli stati di funzionamento de sistema definiti dal sottoinsieme di servizi attivi. Nel 2010 è stato sostituito da systemd, processo responsabile per l’avvio e la gestione del sistema inclusi i servizi, i programmi utente e i demoni. Presenta numerosi vantaggi rispetto a sysinit come una maggiore velocità nel processo di boot, una migliore gestione della dipendenza e un supporto per l’esecuzione di processi paralleli.</p><p id="81d9919e-119e-4cb9-a938-f2faa2dd4b3a" class="">Per quanto riguarda la gestione dei servizi si utilizza il comando:</p><figure id="4e61fe9a-cc5d-432d-8942-98780c116dce" class="image"><a href="ATTACCHI%20AL%20PROCESSO%20DI%20AUTENTICAZIONE%20bf6d94bf97d74c4d84dc21a1bcd7e7e6/Untitled%207.png"><img style="width:499.3999938964844px" src="ATTACCHI%20AL%20PROCESSO%20DI%20AUTENTICAZIONE%20bf6d94bf97d74c4d84dc21a1bcd7e7e6/Untitled%207.png"/></a></figure><p id="3a80e0de-f4ef-4423-be0c-f46591c47ccc" class="">systemd tiene traccia dei processi avviati con start, in modo che i loro PID possano essere usati come parametri nei comandi reload/stop – stop, oltre a eseguire (l’eventuale) comando specificato, di default manda SIGTERM al processo, seguito da SIGKILL dopo un timeout. Queste operazioni non cambiano nulla nella configurazione del sistema.</p><p id="70d2ab9c-8394-46a3-ba7c-32d3454884d8" class="">Per automatizzare avvio al boot e arresto allo shutdown si utilizzano invece si utilizza il comando:</p><figure id="0a63134f-305c-4ca7-becb-2f82e962da36" class="image"><a href="ATTACCHI%20AL%20PROCESSO%20DI%20AUTENTICAZIONE%20bf6d94bf97d74c4d84dc21a1bcd7e7e6/Untitled%208.png"><img style="width:499.3999938964844px" src="ATTACCHI%20AL%20PROCESSO%20DI%20AUTENTICAZIONE%20bf6d94bf97d74c4d84dc21a1bcd7e7e6/Untitled%208.png"/></a></figure><p id="623c7124-a8fd-4a54-93de-48c9a5c3325b" class="">Questi comandi non presentano un effetto immediato, ma l’effetto sulla configurazione del sistema è persistente.</p></details></li></ul><ul id="7e810ac6-716f-4a41-b059-3a53a23624ce" class="toggle"><li><details open=""><summary>Laboratorio</summary><p id="aa97a588-76a2-46bd-b0cb-cdc8dcf47e5a" class=""><mark class="highlight-blue">Attacco tramite wordlist</mark></p><p id="73958e02-9877-4656-8fb7-9c225f85e9f3" class="">Una possibilità per attaccare un account e cercare di autentificarsi nel suo dispositivo è il cosiddetto attacco a dizionario, ovvero con l’aiuto di una lista di possibili soluzioni. Questa solitamente viene eseguito ancora prima di eseguire un attacco a forza bruta provando tutte le possibili combinazioni. All’interno della VM kali sono presenti diverse wordlist (con il comando less possiamo guardare il contenuto di un file un po alla volta. all&#x27;interno di questo file si può utilizzare / per ricerca le occorrenze di una parola e con n si vedono le successive. La stessa ricerca si può eseguire tramite il comando grep oppure attraverso regular expression), già generate che rappresentano le password più comuni. Queste wordlist possono anche essere generate tramite il comando cupp ( con cupp -i viene lanciata la modalità interattiva) il quale, dopo aver richiesto varie informazioni sulla vittima, produce un file di testo contenente combinazioni delle lettere, numeri e caratteri speciali inserite, tramite il quale possiamo attaccare la vittima.</p><p id="0fb331e0-0e14-4f25-b613-0d63dfeafa01" class=""><mark class="highlight-blue">John the ripper</mark></p><p id="5211b00c-a8f1-4c58-806f-b8c402fa01e0" class="">John the ripper è un tool per eseguire hash cracking, ovvero a partire dal codice hash ricavare la corrispondente password. Tale tool gestisce centinaia di tipologie di hash e fornendo in ingresso al comando john un insieme di password (ovviamente in formato hash) esso prova diversi algoritmi, confrontando la configurazione hash della password provata con quelle specificate nel file datogli. Esso si può utilizzare in due modi:</p><ul id="00ff212d-1a98-4969-9b13-7196528d09e8" class="bulleted-list"><li style="list-style-type:disc">Single crack mode = john prende una stringa e genera un set di password date dalla variazione di tale stringa. Questo utilizzo è molto più efficiente rispetto a quello con wordlist.</li></ul><ul id="611eefda-da21-4188-90db-298b0b91c200" class="bulleted-list"><li style="list-style-type:disc">Wordlist = All&#x27;interno del file di configurazione di john (/etc/john/john.conf) viene spiegato il processo di utilizzo di una wordlist, ovvero vengono prima utilizzate le parole contenute nel file e successivamente applica una serie di regole e algoritmi di variazione di tutte le parole contenute nella wordlist. In laboratorio per simulare un cracking di questo tipo si è eseguito:<ul id="b26708a2-8289-4b74-a911-ac378e42aae8" class="bulleted-list"><li style="list-style-type:circle">Comando unshadow /etc/passwd /etc/shadow &gt; brute.txt con la creazione di un file contenente gli utenti e il codice hash delle password ad essi associati.</li></ul><ul id="457893e4-e505-42e0-8a92-3e1c0c650116" class="bulleted-list"><li style="list-style-type:circle">john –single brute.txt per vedere gli hash craccati. Quando john non riesce a craccare delle password forse perché non utilizza l’algortimo giusto e bisogna far usare a john le librerie di sistema.</li></ul><ul id="dabe2662-043b-48ea-b775-ec5a5d34eb0f" class="bulleted-list"><li style="list-style-type:circle">Per fare utilizzare a john una sequenza di algoritmi da noi definiti, è necessario creare il file /.john/john.ini e inserire la nostra serie di algoritmi. Successivamente attraverso il comando john -format=crypt possiamo utilizzare il file john.init da noi personalizzato.</li></ul></li></ul><p id="554e41ab-2c8e-4120-9bb8-4321427498e5" class=""><mark class="highlight-blue">Misconfiguration</mark></p><p id="0204c0b1-3947-45fa-b5cf-c7b6a3b3fa57" class="">Le strategie di misconfiguration sono delle strategie che sfruttano degli errori di configurazione per aumentare il privilegio di un determinato utente. Una volta individuata la password di un determinato utente, possiamo collegarci all&#x27;interno della macchina utilizzando il comando ssh -p numPorta macchina (solitamente come utente@indirizzoIp). Ci sono diversi meccanismi per aumentare i permessi:</p><ul id="a70efae4-5494-4c3e-8a40-008bce0b6593" class="bulleted-list"><li style="list-style-type:disc">Privilegi di root = tutti gli utenti che presentano privilegi di root per eseguire delle operazioni vengono riportati all’interno del file /etc/sudoers. Andando a leggere tale file è possibile scoprire di più sulle modifiche eseguite da un attaccante. Se per esempio viene inserita questa riga:<p id="fd5f4653-61a8-441b-8982-44734dcfa89f" class=""><em>user_test ALL=(root) NOPASSWD:/usr/bin/vi /var/www/html/*</em></p><p id="68688ee7-6001-4939-a2b1-f0a6f455297f" class="">L’utente user_test può eseguire con privilegi di root l’editor vi per modificare il file riportato. Però con un path traversal può benissimo modificare anche altri file, molti più critici, con privilegi di root.</p></li></ul><ul id="465ac316-3fbb-414b-8894-493b10c05732" class="bulleted-list"><li style="list-style-type:disc">SUID = i file con suid settato permettono di essere eseguiti con uid dell’utente proprietario. Alcuni comandi che possono essere utilizzati per fare privilege escalation con SUID settato sono:<ul id="632d1deb-d282-41c2-b0c8-660818ad9925" class="bulleted-list"><li style="list-style-type:circle"><code>cp</code> = si può eseguire una copia di file critici come /etc/passwd o /etc/shadow all’interno della propria home. Tali file avranno permessi di lettura e di conseguenza se ne può creare una copia che andrà a sostituire quella di sistema. </li></ul><ul id="8f4ecab3-c74f-4b7a-a1a0-e857a6ac8708" class="bulleted-list"><li style="list-style-type:circle"><code>find</code> = tale comando permette di eseguire un comando per ogni file che viene trovato. Per esempio, attraverso il comando <code>find /etc/shadow -exec cat {} \</code> permette di leggere il file contenente l’hash delle password. Un altro esempio è quello del comando <code>find /any/file -exec nc -l -p 80 \</code> che permette di aprire una porta privilegiata in ascolto</li></ul><ul id="67765198-88f6-414c-8e5c-e4fd1f5790b2" class="bulleted-list"><li style="list-style-type:circle"><code>sed</code> = con l’opzione -e permette l’esecuzione di uno script che, con SUID settato, presenta privilegi di root.</li></ul></li></ul><ul id="553e7b08-5a6c-4ae1-b1e2-3bb5a47d305b" class="bulleted-list"><li style="list-style-type:disc">ACL = estensione rispetto ai permessi standard che si possono assegnare ad utenti specifici e non solo a utente proprietario, gruppo proprietario e others. I comandi per manipolarle sono:<ul id="1b9913a5-92a9-4164-b1de-fa43f2598740" class="bulleted-list"><li style="list-style-type:circle"><code>setfacl -m u:UTENTE:permessi FILE</code> = per assegnare i permessi specificati all’utente specificato. Alcune volte il sistema si lamenta se vengono assegnati permessi troppo larghi a file critici, ma non notano le ACL. </li></ul><ul id="b90ea14b-597d-45f7-8889-f775762a21f4" class="bulleted-list"><li style="list-style-type:circle"><code>getfacl</code> = per vedere i file con ACL</li></ul></li></ul><ul id="5f5238d6-2e69-4222-931e-ff2097ba59e3" class="bulleted-list"><li style="list-style-type:disc">Capabilities = 42 capacità che vengono assunte da root. I comandi per modificare le capability sono:<ul id="b8308a98-7806-4b78-b2d6-6bee4e77948b" class="bulleted-list"><li style="list-style-type:circle"><code>sudo /usr/sbin/setcap &quot;capability&quot; PATH_CON_CAP</code> = per assegnare la capability specificata al path specificato. Due capability importanti sono:<ul id="92f340ad-7c48-4728-aad5-d1058a8001c3" class="bulleted-list"><li style="list-style-type:square"><code>CAP_DAC_OVERRIDE=eip</code> = capability che permette di ignorare completamente tutti i permessi sul filesystem</li></ul><ul id="c4be294a-fa4f-4b60-9021-6f162427ff7d" class="bulleted-list"><li style="list-style-type:square"><code>CAP_FOWNER=eip</code> = capability che permette di ignorare la coerenza di ownership tra processo e file. </li></ul></li></ul><ul id="727ae868-2387-4a1a-876d-f3172f67ec7c" class="bulleted-list"><li style="list-style-type:circle"><code>/usr/sbin/getcap -r / 2&gt;/dev/null</code> = per vedere i file che presentano capability aggiuntive</li></ul></li></ul></details></li></ul></div></article><span class="sans" style="font-size:14px;padding-top:2em"></span></body></html>